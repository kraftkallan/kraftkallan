@use "sass:string";
@use "sass:map";
@use "sass:math";

@use './abstracts/variables.scss' as variables;
@use './abstracts/functions.scss' as functions;

$bulmaPath: "../../node_modules/bulma/";

$family-primary: "Open Sans";
$family-secondary: "Roboto Slab";

// Override global Sass variables from the /utilities folder
@use "../../node_modules/bulma/sass/utilities" as utils with (
  $class-prefix: "sk-", // samtalscentret kraftkÃ¤llan => sk
  $cssvars-prefix: "sk-",
  $grey-dark: variables.$sk-gray-600,
  $grey-light: variables.$sk-gray-100,
  $primary: variables.$sk-green,
  $link: variables.$sk-green,
  $control-border-width: 2px,
  $gap: variables.$sk-gap,
);

@use "../../node_modules/bulma/sass/utilities/mixins.scss" as bulma-mixins;

// Base
@forward "../../node_modules/bulma/sass/base";
@forward "../../node_modules/bulma/sass/grid";

// Elements
@forward "../../node_modules/bulma/sass/elements/title.scss";
@use "../../node_modules/bulma/sass/elements/content.scss" with (
  $content-heading-color: variables.$sk-green
);

// Form
@forward "../../node_modules/bulma/sass/form/index";

// Components
@use "../../node_modules/bulma/sass/components/navbar" with (
  $navbar-background-color: variables.$sk-gray-50,
  $navbar-item-color: variables.$sk-green,
  $navbar-dropdown-item-h: map.get(variables.$sk-green-hsl, "h"),
  $navbar-dropdown-item-s: map.get(variables.$sk-green-hsl, "s"),
  $navbar-dropdown-item-l: map.get(variables.$sk-green-hsl, "l"),
  $navbar-tab-active-color: variables.$sk-green,
  $navbar-tab-active-background-color: variables.$sk-gray-50,
  $navbar-tab-active-border-bottom-color: variables.$sk-green,
  $navbar-tab-active-border-bottom-style: solid,
  $navbar-tab-active-border-bottom-width: functions.toRem(3),
  $navbar-item-selected-h: map.get(variables.$sk-gray-50-hsl, "h"),
  $navbar-item-selected-s: map.get(variables.$sk-gray-50-hsl, "s"),
  $navbar-item-selected-l: map.get(variables.$sk-gray-50-hsl, "l"),
  $navbar-item-selected-background-l: 90%,
  $navbar-item-selected-color-l: map.get(variables.$sk-gray-50-hsl, "l"),
);
@use "../../node_modules/bulma/sass/components/card.scss";

// Layout
@forward "../../node_modules/bulma/sass/layout/container";
@use "../../node_modules/bulma/sass/layout/footer.scss" with (
  $footer-background-color: variables.$sk-gray-50
);

// Themes
@forward "../../node_modules/bulma/sass/themes";

// Helpers
@forward "../../node_modules/bulma/sass/helpers/visibility.scss";
@forward "../../node_modules/bulma/sass/helpers/flexbox.scss";

// Import the Google Fonts
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&display=swap');


.sk-header {  
  background-color: variables.$sk-gray-50;
  padding: 1rem;
}

a.sk-navbar-item {
  position: relative;

  &::before {
    background: none repeat scroll 0 0 transparent;
    position: absolute;
    content: "";
    bottom: functions.toRem(3);
    background-color: variables.$sk-green;
    height: functions.toRem(3);
    display: block;
    left: 50%;
    width: 0;
    transition: width 0.3s ease 0s, left 0.3s ease 0s;
    @media (prefers-reduced-motion) {
      transition: none;
    }
  }
  &:hover::before { 
    width: 100%; 
    left: 0;
  }  
}

.sk-main {
  margin-top: functions.toRem(calc(variables.$sk-gap-number * 1.5));
  margin-bottom: functions.toRem(calc(variables.$sk-gap-number * 1.5)) !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
 font-family: $family-secondary;
}

.sk-site-footer {
  margin-top: functions.toRem(45);

  h2 {
    font-size: 1.25em;
  }
}

// @debug utils.$tablet;

.sk-padding {
  // sk-padding-from-desktop--default
  &-from-desktop {
    &--default {      
      @include bulma-mixins.from(utils.$desktop) {
        padding: {
          left: functions.toRem(math.div(variables.$sk-gap-number,2));
          right: functions.toRem(math.div(variables.$sk-gap-number,2));  
        }
      }
    }
  }
  

  // sk-padding--default
  &--default {
    padding: {
      left: functions.toRem(math.div(variables.$sk-gap-number,2));
      right: functions.toRem(math.div(variables.$sk-gap-number,2));
    }
  }
}
